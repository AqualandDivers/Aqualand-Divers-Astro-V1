---
import Button from "@components/Button/Button.astro";
import TECard from "@components/Trips&Events/TECard.astro";
import { getCollection } from "astro:content";

const TEs = await getCollection("TE");

const sortedTEs = TEs.sort((a, b) => {
	if (a.data.date < b.data.date) {
		return 1;
	}
	if (a.data.date > b.data.date) {
		return -1;
	}
	return 0;
});

const firstThreeTEs = sortedTEs.slice(0, 3);
---

<section id="TE" class="site-container mt-12 scroll-mt-10 py-8 md:py-12">
	<div class="mx-auto max-w-6xl text-center">
		<h2 class="h2">
			Our Trips & Events Items
		</h2>
	</div>
	<div class="grid gap-10 pt-8 md:grid-cols-2 md:pt-12">
		<div class="md:bg-base-100 md:rounded-md md:p-10 md:pb-6">
			<TECard TE={firstThreeTEs[2]} direction="vertical" />
		</div>
		<div class="flex h-full flex-col justify-between gap-y-6">
			<TECard TE={firstThreeTEs[1]} direction="horizontal" />
			<hr class="border-base-100 hidden border md:block" />
			<TECard TE={firstThreeTEs[0]} direction="horizontal" />
		</div>
	</div>

	<div class="mt-12 flex justify-center">
		<Button href="/courses&services" variant="outline">View all</Button>
	</div>
</section>
